<?xml version="1.0" encoding="iso-8859-1"?>
<!-- EN-Revision: 1.34 Maintainer: ae Status: ready -->
 <chapter id="language.constants">
  <title>Constantes</title>

  <simpara>
   Uma constante é um identificador (nome) para um único valor. Como o nome
   sugere, esse valor não pode mudar durante a execução do
   script (exceção às <link linkend="language.constants.predefined">
   constantes mágicas</link>, que não são constantes de verdade).
   As constantes são sensíveis ao caso por padrão. Por convenção,
   o nomes de constantes são sempre em maiúsculas.
  </simpara>
  <para>
   O nome de uma constante tem as mesmas regras de qualquer identificador no PHP. Um
   nome de constante válida começa com uma letra ou sublinhado, seguido
   por qualquer número de letras, números ou sublinhados. Em expressões
   regulares, ela pode ser representada por:
   <literal>[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*</literal>

   <!-- TODO: Example of valid & invalid constant names -->
  </para>
  <note>
   <simpara>
    Para nossos exemplos, as letras a-z, A-Z e os caracteres ASCII
    do 127 ao 255 (0x7f-0xff).
   </simpara>
  </note>

  <simpara>
   Como as &link.superglobals;, o escopo de uma constante é global. Você
   pode acessar constantes de qualquer lugar em seu script sem se preocupar com o escopo.
   Para mais informações sobre o escopo no PHP, leia a seção do manual
   <link linkend="language.variables.scope">escopo de variáveis</link>.
  </simpara>

  <sect1 id="language.constants.syntax">
   <title>Sintaxe</title>
   <simpara>
    Você pode definir uma constante utilizando-se da função
    <function>define</function>. Quando uma constante é definida,
    ela não pode ser mais modificada ou anulada.
   </simpara>
   <simpara>
    Somente dados escalares (<type>boolean</type>, <type>integer</type>,
    <type>float</type> e <type>string</type>) pode ser colocados
    em constantes.
   </simpara>
   <simpara>
    Você pode obter o valor de uma constante simplesmente especificando seu nome.
    Diferentemente de variáveis, você <emphasis>não</emphasis> pode prefixar
    uma constante com um sinal de <literal>$</literal>.
    Você também pode utilizar a função <function>constant</function> para
    ler o valor de uma constante, se você precisar obter seu valor
    dinamicamente.
    Utilize <function>get_defined_constants</function> para obter a lista de
    todas as constantes definidas.
   </simpara>
   <note>
    <simpara>
     As constantes e variáveis (globais) estão em espaços de nomes diferentes.
     Isto implica, por exemplo, que &true; e
     <varname>$TRUE</varname> são geralmente diferentes.
    </simpara>
   </note>
   <simpara>
    Se você usar uma constante indefinida, o PHP assume o nome
    da constante como seu próprio valor, como se você tivesse
    uma <type>string</type> (CONSTANT vs "CONSTANT"). Um erro de nível
    <link linkend="ref.errorfunc">E_NOTICE</link> será lançado
    quando isso acontecer. Veja também a referência do manual sobre como
    <link linkend="language.types.array.foo-bar">$foo[bar]</link> é
    errado (a não ser que você primeiro <function>define</function>
    <literal>bar</literal> como uma constante). Se você simplesmente quer checar se uma
    constante foi definida, utilize a função <function>defined</function>.
   </simpara>
   <para>
    Estas são as diferenças entre constantes e variáveis:
    <itemizedlist>
     <listitem>
      <simpara>
       Constantes não podem ter um sinal de cifrão (<literal>$</literal>)
       antes delas;
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Constantes só podem ser definidas utilizando a função
       <function>define</function>, e não por simples assimilação;
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Constantes podem ser definidas e acessadas de qualquer lugar sem
       que a regras de escopo de variáveis seja aplicadas;
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Constantes não podem ser redefinidas ou eliminadas depois que
       elas são criadas; e
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Constantes só podem conter valores escalares.
       </simpara>
     </listitem>
    </itemizedlist>
   </para>

   <para>
    <example>
     <title>Definindo Constantes</title>
     <programlisting role="php">
<![CDATA[
<?php
define("CONSTANT", "Hello world.");
echo CONSTANT; // imprime "Hello world."
echo Constant; // imprime "Constant" e gera um alerta notice.
?>
]]>
     </programlisting>
    </example>

   </para>
  </sect1>

  <sect1 id="language.constants.predefined">
   <title>Constantes Predefinidas</title>

   <simpara>
    O PHP fornece um grande número de constantes predefinidas para qualquer script
    que ele execute. A maioria dessas constantes, entretanto, são criadas por
    várias extensões, e somente estarão presentes quando essas extensões
    estiverem disponíveis, por carregamento dinâmico ou por compilação
    direta.
   </simpara>

   <para>
    Essas são as quatro constantes "mágicas", que mudam dependendo de
    onde elas são utilizadas. Por exemplo, o valor de 
    <constant>__LINE__</constant> depende do número da linha em que é
    utilizada em seu script. Essas constantes especiais são
    insensíveis ao caso:
   </para>
   <para>
    <table>
     <title>Algumas constantes "mágicas" do PHP</title>
     <tgroup cols="2">
      <thead>
       <row>
        <entry>Nome</entry>
        <entry>Descrição</entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry><constant>__LINE__</constant></entry>
        <entry>
         A linha atual do script.
        </entry>
       </row>
       <row>
        <entry><constant>__FILE__</constant></entry>
        <entry>
         O caminho completo e nome do arquivo.
        </entry>
       </row>
       <row>
        <entry><constant>__FUNCTION__</constant></entry>
        <entry>
         O nome da função (Acrescentado no PHP 4.3.0)
        </entry>
       </row>
       <row>
        <entry><constant>__CLASS__</constant></entry>
        <entry>
         O nome da classe (Acrescentado no PHP 4.3.0)
        </entry>
       </row>
       <row>
        <entry><constant>__METHOD__</constant></entry>
        <entry>
         O nome do método de classe. (Acrescentado no PHP 5.0.0)
        </entry>
       </row>
      </tbody>
     </tgroup>
    </table>
   </para>

   <simpara>
    A lista de constantes predefinidas está disponível na seção <link
    linkend="reserved.constants">Constantes Predefinidas</link>.
   </simpara>


  </sect1>
 </chapter>
 
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

<?xml version="1.0" encoding="iso-8859-1"?>
<!-- EN-Revision: 1.16 Maintainer: surfmax Status: ready -->

<section id="session.configuration">
 &reftitle.runtime;
 &extension.runtime;
 <para>
 <table>
  <title>Opções de configuração da sessão</title>
  <tgroup cols="3">
   <thead>
    <row>
     <entry>Name</entry>
     <entry>Default</entry>
     <entry>Changeable</entry>
    </row>
   </thead>
   <tbody>
    <row>
     <entry>session.save_path</entry>
     <entry>"/tmp"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.name</entry>
     <entry>"PHPSESSID"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.save_handler</entry>
     <entry>"files"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.auto_start</entry>
     <entry>"0"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.gc_probability</entry>
     <entry>"1"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.gc_maxlifetime</entry>
     <entry>"1440"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.serialize_handler</entry>
     <entry>"php"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cookie_lifetime</entry>
     <entry>"0"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cookie_path</entry>
     <entry>"/"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cookie_domain</entry>
     <entry>""</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cookie_secure</entry>
     <entry>""</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.use_cookies</entry>
     <entry>"1"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.use_only_cookies</entry>
     <entry>"0"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.referer_check</entry>
     <entry>""</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.entropy_file</entry>
     <entry>""</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.entropy_length</entry>
     <entry>"0"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cache_limiter</entry>
     <entry>"nocache"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.cache_expire</entry>
     <entry>"180"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.use_trans_sid</entry>
     <entry>"0"</entry>
     <entry>PHP_INI_SYSTEM | PHP_INI_PERDIR</entry>
    </row>
    <row>
     <entry>session.bug_compat_42</entry>
     <entry>"1"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>session.bug_compat_warn</entry>
     <entry>"1"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    <row>
     <entry>url_rewriter.tags</entry>
     <entry>"a=href,area=href,frame=src,input=src,form=fakeentry"</entry>
     <entry>PHP_INI_ALL</entry>
    </row>
    
<!-- Not yet
    <row>
     <entry>session.encode_sources</entry>
     <entry>"globals</entry>
     <entry>track"</entry>
    </row>
-->

   </tbody>
  </tgroup>
 </table>
 Para mais detalhes de definição das constantes do PHP_INI_* veja
 <function>ini_set</function>.
 </para>
 <para>
  O sistema de gerenciamento de sessões suporta um número de opções de configuração que você pode colocar em seu arquivo &php.ini;. Nós daremos
  um breve resumo.
 <variablelist>

  <varlistentry id="ini.session.save-handler">
   <term>
    <parameter>session.save_handler</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.save_handler</literal> define o nome do manipulador que é usado para guardar e devolver dados associados com a sessão.
	 Padrão inicial  <literal>files</literal>. Veja também
     <function>session_set_save_handler</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.save-path">
   <term>
    <parameter>session.save_path</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.save_path</literal>  define o argumento que é passado para o manipulador de salvação. Se você escolher o manipulador de
	 ausência de arquivo, este é o local onde os arquivos serão criados. 
	 Padrão <literal>/tmp</literal>.  Veja também
     <function>session_save_path</function>. 
    </simpara>
    <para>
     Há um argumento N opcional para esta dietiva que determina o número
	 de níveis de diretório que seus arquivos de sessão serão extendidos.
     Por exemplo, definindo para <literal>'5;/tmp'</literal>
     pode levar a criação de um arquivo de sessão e localização como
	 <literal>/tmp/4/b/1/e/3/sess_4b1e384ad74619bd212e236e52a5a174If
     </literal>.  Para fazer uso do N você deve criar todos estes diretórios antes de usar.  Um pequeno script shell existe em
     <filename>ext/session</filename> para fazer isto, ele é chamado     <filename>mod_files.sh</filename>. Também note se N é usada e maior
	  do que and greater than 0 então a "automatic garbage collection" não
	  será executada, veja uma cópia do &php.ini; para mais informação.
	  Veja, se você usa N if you use N, be certifique-se de cercar
     <literal>session.save_path</literal> com  
     "aspas" porque o separador (<literal>;</literal>) é
     também usado para comentátios no &php.ini;.
    </para>
    <warning>
     <para>
      Se você deixar isto definido num diretório de leitura público, 
	  tal como <filename>/tmp</filename> (o padrão), outros usuários no
	  servidor poderão raptar sessõoes pegando a lista de arquivos nesse
	  diretório.
     </para>
    </warning>
    <note>
     <simpara>
      Usuários de Windows tem que mudar esta variável para fazer funções de sessão no PHP. Certifique-se de especifica um caminho válido, e.g.:
      <filename>c:/temp</filename>.
     </simpara>
    </note>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.name">
   <term>
    <parameter>session.name</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.name</literal> especifíca o nome da sessão que é usada como um nome de cookie. Ele somente conteria caracteres alfanuméricos. 
     Padrão inicial <literal>PHPSESSID</literal>.
     Veja também <function>session_name</function>.
    </simpara>
   </listitem>
  </varlistentry>
  
  <varlistentry id="ini.session.auto-start">
   <term>
    <parameter>session.auto_start</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.auto_start</literal> especifíca se o módulo da sessão
	 começou uma sessão automaticamente num pedido no início. Definido
	 iniciamente em <literal>0</literal> (desabilitado).
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.serialize-handler">
   <term>
    <parameter>session.serialize_handler</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.serialize_handler</literal> define o nome do
	 manipulador que é usado para publicar/despublicar dados em série 
	 (serialize/deserialize). Atualmente, como um formato interno no
	 PHP (nome <literal>php</literal>) e WDDX é suportado (nome
     <literal>wddx</literal>). WDDX está apenas disponível, se o PHP
	 está compilado com <link linkend="ref.wddx"> suporte a WDDX
     </link>. Definição inicial <literal>php</literal>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.gc-probability">
   <term>
    <parameter>session.gc_probability</parameter>
    <type>integer</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.gc_probability</literal> especifíca a probabilidade de que a rotina gc (garbage collection) ser iniciada em cada pedido em percentual. Padrão <literal>1</literal>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.gc-maxlifetime">
   <term>
    <parameter>session.gc_maxlifetime</parameter>
    <type>integer</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.gc_maxlifetime</literal> especifíca o número de
	 segundos após os dados terem sido considerados como lixo ('garbage')
	 e limpados.
    </simpara>
    <note>
     <simpara>Se você está usando o file-based session handler como padrão, seu sistema de arquivos deve manter registrado quantidade de acessos
	 (atime).  Windows FAT dessa forma não faz, então você terá que sugerir
	 outro modo para manipular a coleção de lixo de sua sessão se você está num sistema FAT ou quaisquer outros fs onde quantidade de acessos
	 (atime tracking) não está disponível.
     </simpara>
    </note>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.referer-check">
   <term>
    <parameter>session.referer_check</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.referer_check</literal> contém a 
     substring que você quer checar para cada referenciador 
	 (Referer) de HTTP. Se o referenciador foi enviado pelo cliente e a sustring não foi encontrada, a id de sessão embutida será marcada como inválida.
     O padrão é uma string vazia.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.entropy-file">
   <term>
    <parameter>session.entropy_file</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.entropy_file</literal> diz o caminho para um recurso externo (arquivo) que será usado como uma fonte de desordem no processo de criação da id da sessão. Exemplos são 
     <literal>/dev/random</literal> or <literal>/dev/urandom</literal>
     que são disponíveis em muitos sistemas UNIX.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.entropy-length">
   <term>
    <parameter>session.entropy_length</parameter>
    <type>integer</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.entropy_length</literal> especifíca o número de bytes
	 que serão lidos do arquivo especificado acima. Definido inicialmente como <literal>0</literal> (desabilitado).
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.use-cookies">
   <term>
    <parameter>session.use_cookies</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.use_cookies</literal> especifica se módulo utilizará cookies para guardar a id da sessão no lado do cliente. O padrão é <literal>1</literal> (habilitado).
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.use-only-cookies">
   <term>
    <parameter>session.use_only_cookies</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.use_only_cookies</literal> especifica que o módulo
	 usará <emphasis role="strong">apenas</emphasis> cookies para guardar a id no lado do cliente. Por definição <literal>0</literal> (desabilitada, por compatibilidade).
     Habilitando esta comfiguração previne ataques envolvendo
	 passagem de ids de sessão nas URLs. Esta configuração foi adicionada 
	 no <literal>PHP</literal>
     4.3.0.
    </simpara>
   </listitem>
  </varlistentry>


  <varlistentry id="ini.session.cookie-lifetime">
   <term>
    <parameter>session.cookie_lifetime</parameter>
    <type>integer</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cookie_lifetime</literal> especifica o tempo de
	 vida do cookie em segundos que é enviado para o browser. O valor 0
     significa "até o browser ser fechado." O padrão é 
     <literal>0</literal>. Veja também
     <function>session_get_cookie_params</function> e
     <function>session_set_cookie_params</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.cookie-path">
   <term>
    <parameter>session.cookie_path</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cookie_path</literal> especifica o caminho para
	 definir em session_cookie. O padrão é <literal>/</literal>. Veja também
     <function>session_get_cookie_params</function> e
     <function>session_set_cookie_params</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.cookie-domain">
   <term>
    <parameter>session.cookie_domain</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cookie_domain</literal> especifíca o domínio para
	 definir em session_cookie onde o cookie será válido.
	 O padrão é não ter nada. Veja também
     <function>session_get_cookie_params</function> e
     <function>session_set_cookie_params</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.cookie-secure">
   <term>
    <parameter>session.cookie_secure</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cookie_secure</literal> especifíca se o cookie seria apenas enviado sob conexões seguras. O padrão é 
     <literal>off</literal>.
     Esta definição foi adicionada no <literal>PHP</literal>
     4.0.4. Veja também
     <function>session_get_cookie_params</function> e
     <function>session_set_cookie_params</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.cache-limiter">
   <term>
    <parameter>session.cache_limiter</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cache_limiter</literal> especifíca o método de
	 controle do cache para usar em páginas de sessão
     (none/nocache/private/private_no_expire/public). O padrão é
     <literal>nocache</literal>. Veja também
     <function>session_cache_limiter</function>.
    </simpara>
   </listitem>
  </varlistentry>


  <varlistentry id="ini.session.cache-expire">
   <term>
    <parameter>session.cache_expire</parameter>
    <type>integer</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.cache_expire</literal> especifíca o time-to-live
	 (termo de internet - um campo do ip header que indica o tamanho 
	 do pacote que seria permitido durar antes de ser descartado)
     para páginas de sessão em minutos, este não tem efeito para 
     nocache limiter. O padrão é <literal>180</literal>. Veja também
     <function>session_cache_expire</function>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.session.use-trans-sid">
   <term>
    <parameter>session.use_trans_sid</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     <literal>session.use_trans_sid</literal> se suporte a 
	 sid transparente está habilitado ou não. O padrão é
     <literal>0</literal> (desabilitado).
    </simpara>
    <note>
     <simpara>
      Para PHP 4.1.2 ou inferior, ele só é habilitado se fizer a opção
	  na compilação com 
      <link linkend="install.configure.enable-trans-sid">
      <literal>--enable-trans-sid</literal></link>.
      A partir do PHP 4.2.0, está sempre compilado.
     </simpara>
     <simpara>
      Gerenciamentode sessões baseadas na URL tem riscos de segurança adicionais comparados ao gerenciamento baseado em cookies. Usuários
	   podem enviar uma URL que contenha uma ID de sessão ativa para seus amigos por e-mail ou usuários pode salvar uma URL que contenha uma 
	   ID de sessão para seus bookmarks e acessar seu site com a mesma ID de sessão sempre, por exemplo.
     </simpara>
    </note>
   </listitem>
  </varlistentry>
  
  <varlistentry id="ini.session.bug-compat-42">
   <term>
    <parameter>session.bug_compat_42</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     Versões do PHP 4.2.0 and ou inferior não tem documentado atributo/bug  que te mostre como inicializar uma variável de sessão no escopo global,
	 embora <link linkend="ini.register-globals">register_globals</link>
     está desabilitado.  PHP 4.3.0 e mais novos avisarão você,se este atributo está sendo usado, e se
	 <link linkend="ini.session.bug-compat-warn">
     session.bug_compat_warn</link> está também habilitado.  
    </simpara>
   </listitem>
  </varlistentry>
  
  <varlistentry id="ini.session.bug-compat-warn">
   <term>
    <parameter>session.bug_compat_warn</parameter>
    <type>boolean</type>
   </term>
   <listitem>
    <simpara>
     Versões do PHP 4.2.0 e inferiores não tem documentados
	 atributo/bug te indique como começar uma variável de sessão no escopo 
	 global, embora
	 <link linkend="ini.register-globals">register_globals</link>
     esteja desabilitado.  PHP 4.3.0 e posteriores avisarão a você, se este atributo está sendo usado habilitado em ambos 
     <link linkend="ini.session.bug-compat-42">session.bug_compat_42</link>
     and <link linkend="ini.session.bug-compat-warn">
     session.bug_compat_warn</link>.
    </simpara>
   </listitem>
  </varlistentry>

  <varlistentry id="ini.url-rewriter.tags">
   <term>
    <parameter>url_rewriter.tags</parameter>
    <type>string</type>
   </term>
   <listitem>
    <simpara>
     <literal>url_rewriter.tags</literal> epecifíca quais tags html
     são reescritas para incluir a id de sessão se o suporte
	 a sid transparente está habilitado. 
	 O padrão é     <literal>a=href,area=href,frame=src,input=src,form=fakeentry,fieldset=</literal>
    </simpara>
    <note>
     <simpara>
      Se você quer conformidade XHTML, remova a entrada <literal>form</literal> e utilize as tags &lt;fieldset&gt; em 
	  volta dos campos de formulário.
     </simpara>
    </note>
   </listitem>
  </varlistentry>
 </variablelist>
 </para>

 <para>
  As definições de configuração<link
  linkend="ini.track-vars"><literal>track_vars</literal></link> e
  <link
  linkend="ini.register-globals"><literal>register_globals</literal></link>
  influenciam como as variáveis de sessão são guardadas e restauradas.
 </para>

 <note>
  <para>
   No PHP 4.0.3, <link
   linkend="ini.track-vars"><literal>track_vars</literal></link> está sempre ligada.
  </para>
 </note>

</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

